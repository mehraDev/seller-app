"use strict";(self.webpackChunkdigibhoomi_seller=self.webpackChunkdigibhoomi_seller||[]).push([[414],{5980:function(e,r,n){n.d(r,{n:function(){return t.n}});var t=n(3474)},3042:function(e,r,n){n.r(r),n.d(r,{default:function(){return Y}});var t=n(4165),o=n(5861),a=n(9439),s=n(5610),c=n(4759),l=n(5995),i=n(6444),u=n(5383),d=n(2791),p=n(445),h=n(6534),m=n(5611),x=n(3433),f=n(1413),b=n(9077),v=n(184);var j=function(e){var r=e.onClose,n=e.onSave,t=e.contacts,o=(0,i.Fg)(),l=(0,d.useState)(t.ph.map((function(e){return(0,f.Z)({},e)}))),u=(0,a.Z)(l,2),h=u[0],m=u[1],j=(0,d.useState)(t.wa.map((function(e){return(0,f.Z)({},e)}))),g=(0,a.Z)(j,2),w=g[0],C=g[1],y=(0,d.useState)(t.insta.map((function(e){return(0,f.Z)({},e)}))),k=(0,a.Z)(y,2),Z=k[0],X=k[1],S=(0,d.useState)(t.fb.map((function(e){return(0,f.Z)({},e)}))),P=(0,a.Z)(S,2),H=P[0],J=P[1],E=(0,d.useMemo)((function(){return{phone:t.ph,whatsapp:t.wa,instagram:t.insta,facebook:t.fb}}),[t.ph,t.wa,t.insta,t.fb]),F=(0,d.useMemo)((function(){return h.some((function(e){return!e.name||!e.value}))||w.some((function(e){return!e.name||!e.value}))||Z.some((function(e){return!e.name||!e.value}))||H.some((function(e){return!e.name||!e.value}))||JSON.stringify(E)===JSON.stringify({phone:h,whatsapp:w,instagram:Z,facebook:H})}),[h,w,Z,H,E]),I=function(e){return e.Phone="Phone",e.WhatsApp="WhatsApp",e.Instagram="Instagram",e.Facebook="Facebook",e}({}),N=function(e,r,n,t,a,l,i){l=l||"Value",i=i||"text";var u=function(n,t){var o=(0,x.Z)(r);switch(o[n].value=t,e){case I.Phone:m(o);break;case I.WhatsApp:C(o);break;case I.Instagram:X(o);break;case I.Facebook:J(o)}},d=r.some((function(e){return!e.name||!e.value}));return(0,v.jsxs)(c.JX,{style:{},children:[(0,v.jsx)(c.X2,{p:"1rem",children:(0,v.jsx)(c.xv,{s:"18",w:6,children:e})}),(0,v.jsxs)(c.JX,{p:"1rem 1.5rem",children:[r.length?r.map((function(n,s){return(0,v.jsxs)(c.JX,{p:"1rem",style:{borderLeft:"1px solid "+t,gap:"0.5rem"},children:[(0,v.jsxs)(c.X2,{a:"center",j:"between",children:[(0,v.jsx)(c.xv,{w:6,c:o.neutralColor.textTertiary,children:"".concat(e," ").concat(s+1)}),(0,v.jsx)(p.ZP,{color:o.brandColor.red,name:p.uH.Delete,onClick:function(){return function(e,r){var n=[];switch(e){case I.Phone:n=(0,x.Z)(h);break;case I.WhatsApp:n=(0,x.Z)(w);break;case I.Instagram:n=(0,x.Z)(Z);break;case I.Facebook:n=(0,x.Z)(H)}if(r>=0&&r<n.length)switch(n.splice(r,1),e){case I.Phone:m(n);break;case I.WhatsApp:C(n);break;case I.Instagram:X(n);break;case I.Facebook:J(n)}}(e,s)}})]}),(0,v.jsx)(b.oH,{tt:"cap",label:a||"Name",value:n.name,onChange:function(n){return function(n,t){var o=(0,x.Z)(r);switch(o[n].name=t,e){case I.Phone:m(o);break;case I.WhatsApp:C(o);break;case I.Instagram:X(o);break;case I.Facebook:J(o)}}(s,n)}}),"number"===i?(0,v.jsx)(b.aw,{label:l||"Value",value:n.value,onChange:function(e){return u(s,e)}}):(0,v.jsx)(b.oH,{label:l||"Value",value:"".concat(n.value),onChange:function(e){return u(s,e)}})]})})):(0,v.jsx)(c.xv,{s:"14",color:o.neutralColor.textQuaternary,style:{marginLeft:"24px"},children:n}),(0,v.jsx)(c.X2,{p:"1rem",children:(0,v.jsxs)(s.Z,{variant:"secondary",color:t,onClick:function(){return function(e){var r={name:"",value:""},n=[];switch(e){case I.Phone:n=[].concat((0,x.Z)(h),[r]),m(n);break;case I.WhatsApp:n=[].concat((0,x.Z)(w),[r]),C(n);break;case I.Instagram:n=[].concat((0,x.Z)(Z),[r]),X(n);break;case I.Facebook:n=[].concat((0,x.Z)(H),[r]),J(n)}}(e)},disabled:d,children:["Add ",e]})})]})]})};return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(c.X2,{a:"center",j:"between",style:{borderBottom:"1px solid "+o.neutralColor.border},p:"1rem 1rem",children:[(0,v.jsx)(c.xv,{s:"16",w:6,c:o.neutralColor.text,children:"Edit Contacts"}),(0,v.jsx)(p.ZP,{height:1.2,width:1.2,name:p.uH.Close,color:"#bd1414",onClick:function(){return r()}})]}),(0,v.jsxs)(c.JX,{style:{overflow:"scroll",gap:"1rem"},p:"2rem 1rem",children:[N(I.Phone,h,"No phone numbers added.","#0762e1","Name","Number","number"),N(I.WhatsApp,w,"No whatsapp numbers added.","#0ba544","Name","Number","number"),N(I.Instagram,Z,"No instagram profiles added.","#ed1a60","Name","Profile ID"),N(I.Facebook,H,"No facebook profiles added.","#1166d5","Name","Profile ID")]}),(0,v.jsxs)(c.X2,{j:"center",a:"center",style:{gap:"1rem"},p:"2rem 1rem",children:[(0,v.jsx)(s.Z,{width:"100%",type:"button",onClick:function(){r()},children:"Close"}),(0,v.jsx)(s.Z,{width:"100%",onClick:function(){n({ph:h,wa:w,insta:Z,fb:H})},disabled:F,children:"Save"})]})]})},g=n(9434),w=n(9215),C=n(2219),y=n(4074),k=n(9326),Z=n(306);function X(){return(X=(0,o.Z)((0,t.Z)().mark((function e(r){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(0,Z.A)()){e.next=3;break}throw new Error("Failed to update seller contacts: Invalid SellerId");case 3:return e.prev=3,e.next=6,(0,k.gU)("sellers/".concat(n,"/private"),"contacts",r);case 6:console.log("Updated seller contacts"),e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(3),console.error("Error updating seller contacts:",e.t0),new Error("Failed to update seller contacts: Cannot update contacts document");case 13:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}var S=function(e){return X.apply(this,arguments)},P=n(906),H=n(6708),J=function(e){var r=e.editMode,n=e.closeEditMode,s=(0,g.v9)((function(e){return e.contacts})).list,l=(0,g.I0)(),u=(0,d.useState)(!1),x=(0,a.Z)(u,2),f=x[0],b=x[1],k=(0,i.Fg)(),Z=(0,d.useState)(H.q.None),X=(0,a.Z)(Z,2),J=X[0],E=X[1],F=(null===s||void 0===s?void 0:s.ph)||[],I=(null===s||void 0===s?void 0:s.wa)||[],N=(null===s||void 0===s?void 0:s.insta)||[],A=(null===s||void 0===s?void 0:s.fb)||[],L=(0,d.useState)(""),W=(0,a.Z)(L,2),q=W[0],U=W[1],O="#0762e1",D="#0ba544",M="#1166d5",T="#ed1a60",V=function(e){U(e)},B=[];q===p.uH.Phone?B=F.map((function(e){return{contact:{name:e.name,value:e.value},color:O,iconName:p.uH.Phone}})):q===p.uH.Whatsapp?B=I.map((function(e){return{contact:{name:e.name,value:e.value},color:D,iconName:p.uH.Whatsapp}})):q===p.uH.Facebook?B=A.map((function(e){return{contact:{name:e.name,value:e.value},color:M,iconName:p.uH.Facebook}})):q===p.uH.Instagram&&(B=N.map((function(e){return{contact:{name:e.name,value:e.value},color:T,iconName:p.uH.Instagram}})));var Q=function(){var e=(0,o.Z)((0,t.Z)().mark((function e(r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.prev=1,e.next=4,S(r);case 4:E(H.q.Success),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.error("Error updating contacts:",e.t0),E(H.q.Error);case 11:return e.prev=11,b(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,7,11,14]])})));return function(r){return e.apply(this,arguments)}}();return(0,v.jsxs)(c.JX,{p:"0 0 2rem",style:{background:k.neutralColor.bgContainer},children:[(0,v.jsx)(c.X2,{p:"1rem",children:(0,v.jsx)(c.xv,{s:"16",w:6,children:"Contact Information"})}),(0,v.jsx)(c.X2,{p:"0.5rem",children:(0,v.jsxs)(c.JX,{p:"0 0 2rem",style:{border:"1px solid "+k.neutralColor.borderSecondary},br:"12px",children:[(0,v.jsxs)(c.X2,{a:"center",p:"1rem",style:{gap:"0.5rem"},children:[(0,v.jsx)(p.ZP,{borderRadius:.35,name:p.uH.Phone,color:O,width:1.2,height:1.2,onClick:function(){return V(p.uH.Phone)}}),(0,v.jsx)(c.xv,{s:"18",w:6,c:O,children:"Phone"})]}),(0,v.jsx)(c.JX,{m:"0 2rem",w:"initial",p:"0.5rem",style:{borderLeft:"2px solid "+O},children:0!==F.length?(0,v.jsx)(c.JX,{style:{gap:"1rem"},p:"0.5rem",children:F.map((function(e,r){return(0,v.jsxs)(c.JX,{style:{gap:"0.5rem"},children:[(0,v.jsx)(c.xv,{s:"14",w:5,children:e.name}),(0,v.jsx)(c.xv,{s:"14",ml:"8px",c:k.neutralColor.textSecondary,children:e.value})]},r)}))}):(0,v.jsx)(c.xv,{s:"14",color:k.neutralColor.textQuaternary,style:{marginLeft:"24px"},children:"No Phone numbers added"})})]})}),(0,v.jsx)(c.X2,{p:"0.5rem",children:(0,v.jsxs)(c.JX,{p:"0 0 2rem",style:{border:"1px solid "+k.neutralColor.borderSecondary},br:"12px",children:[(0,v.jsxs)(c.X2,{a:"center",p:"1rem",style:{gap:"0.5rem"},children:[(0,v.jsx)(p.ZP,{borderRadius:.35,name:p.uH.Whatsapp,width:1.2,height:1.2,color:D,onClick:function(){return V(p.uH.Whatsapp)}}),(0,v.jsx)(c.xv,{s:"18",w:6,c:D,children:"WhatsApp"})]}),(0,v.jsx)(c.JX,{m:"0 2rem",w:"initial",p:"0.5rem",style:{borderLeft:"2px solid "+D},children:0!==I.length?(0,v.jsx)(c.JX,{style:{gap:"1rem"},p:"0.5rem",children:I.map((function(e,r){return(0,v.jsxs)(c.JX,{style:{gap:"0.5rem"},children:[(0,v.jsx)(c.xv,{s:"14",w:5,children:e.name}),(0,v.jsx)(c.xv,{s:"14",ml:"8px",c:k.neutralColor.textSecondary,children:e.value})]},r)}))}):(0,v.jsx)(c.xv,{s:"14",color:k.neutralColor.textQuaternary,style:{marginLeft:"24px"},children:"No WhatsApp numbers added"})})]})}),(0,v.jsx)(c.X2,{p:"0.5rem",children:(0,v.jsxs)(c.JX,{p:"0 0 2rem",style:{border:"1px solid "+k.neutralColor.borderSecondary},br:"12px",children:[(0,v.jsxs)(c.X2,{a:"center",p:"1rem",style:{gap:"0.5rem"},children:[(0,v.jsx)(p.ZP,{borderRadius:.35,name:p.uH.Instagram,width:1.2,height:1.2,color:T,onClick:function(){return V(p.uH.Instagram)}}),(0,v.jsx)(c.xv,{s:"18",w:6,c:T,children:"Instagram"})]}),(0,v.jsx)(c.JX,{m:"0 2rem",w:"initial",p:"0.5rem",style:{borderLeft:"2px solid "+T},children:0!==N.length?(0,v.jsx)(c.JX,{style:{gap:"1rem"},p:"0.5rem",children:N.map((function(e,r){return(0,v.jsxs)(c.JX,{style:{gap:"0.5rem"},children:[(0,v.jsx)(c.xv,{s:"14",w:5,children:e.name}),(0,v.jsx)(c.xv,{s:"14",ml:"8px",c:k.neutralColor.textSecondary,children:e.value})]},r)}))}):(0,v.jsx)(c.xv,{s:"14",color:k.neutralColor.textQuaternary,style:{marginLeft:"24px"},children:"No Instagram profiles added"})})]})}),(0,v.jsx)(c.X2,{p:"0.5rem",children:(0,v.jsxs)(c.JX,{p:"0 0 2rem",style:{border:"1px solid "+k.neutralColor.borderSecondary},br:"12px",children:[(0,v.jsxs)(c.X2,{a:"center",p:"1rem",style:{gap:"0.5rem"},children:[(0,v.jsx)(p.ZP,{borderRadius:.35,name:p.uH.Facebook,width:1.2,height:1.2,color:M,onClick:function(){return V(p.uH.Facebook)}}),(0,v.jsx)(c.xv,{s:"18",w:6,c:M,children:"Facebook"})]}),(0,v.jsx)(c.JX,{m:"0 2rem",w:"initial",p:"0.5rem",style:{borderLeft:"2px solid "+M},children:0!==A.length?(0,v.jsx)(c.JX,{style:{gap:"1rem"},p:"0.5rem",children:A.map((function(e,r){return(0,v.jsxs)(c.JX,{style:{gap:"0.5rem"},children:[(0,v.jsx)(c.xv,{s:"14",w:5,children:e.name}),(0,v.jsx)(c.xv,{s:"14",ml:"8px",c:k.neutralColor.textSecondary,children:e.value})]},r)}))}):(0,v.jsx)(c.xv,{s:"14",color:k.neutralColor.textQuaternary,style:{marginLeft:"24px"},children:"No Facebook profiles added"})})]})}),q&&(0,v.jsx)(h.Z,{onContact:function(e){if(q===p.uH.Phone)window.location.href="tel:".concat(F[e].value);else if(q===p.uH.Whatsapp){var r=I[e].value;window.location.href="https://wa.me/".concat(r)}else if(q===p.uH.Facebook){var n=A[e].value;window.open("https://www.facebook.com/p/".concat(n),"_blank")}else if(q===p.uH.Instagram){var t=N[e].value;window.open("https://www.instagram.com/".concat(t),"_blank")}U("")},contactButtons:B,onClose:function(){return U("")},name:q}),(0,v.jsx)(m.d,{h:"99%",isOpen:r,children:(0,v.jsx)(c.JX,{h:"100%",style:{background:k.neutralColor.bgContainer,borderRadius:"8px 8px 0 0 "},children:s?(0,v.jsx)(j,{onClose:n,onSave:Q,contacts:s}):(0,v.jsx)("div",{children:"Oops! Some error occured"})})}),f&&(0,v.jsx)(w.Y,{children:(0,v.jsx)(C.p,{})}),(0,v.jsx)(y.E4,{mode:J,onClose:function(){"success"===J&&(n(),l((0,P.yF)())),E(H.q.None)}})]})},E=n(5980),F=n(8282),I=n(6036),N=n(5321),A=n.p+"static/media/logo-gray-placeholder.9bc17d30d4a63369fd09.png",L=n(7719),W=n(5463);function q(){return(q=(0,o.Z)((0,t.Z)().mark((function e(r){var n,o,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"sellers",n=r.toLowerCase(),e.next=5,(0,W.n5)("sellers",L.x7,n);case 5:if(!((o=e.sent).length>0)){e.next=11;break}return a=o[0],e.abrupt("return",a.id);case 11:return e.abrupt("return",null);case 12:e.next=18;break;case 14:throw e.prev=14,e.t0=e.catch(0),console.error("Error fetching seller ID by username:",e.t0),new Error("Failed to fetch seller ID by username");case 18:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}var U=function(e){return q.apply(this,arguments)},O=n(5545),D=n(5951);var M=function(e){var r=e.logo,n=e.profile,l=e.onSave,u=e.onClose,h=(0,i.Fg)(),m=(0,d.useState)(n),j=(0,a.Z)(m,2),g=j[0],w=j[1],C=(0,d.useState)(!1),y=(0,a.Z)(C,2),k=y[0],Z=y[1],X=(0,d.useState)(r),S=(0,a.Z)(X,2),P=S[0],H=S[1],J=(0,d.useState)("checking"),E=(0,a.Z)(J,2),F=E[0],L=E[1],W=g.user.trim().length>=5&&g.user.toLowerCase()!==n.user.toLowerCase();(0,d.useEffect)((function(){var e=function(){var e=(0,o.Z)((0,t.Z)().mark((function e(){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!W){e.next=15;break}return L("checking"),e.prev=2,e.next=5,U(g.user);case 5:r=e.sent,L(r?"unavailable":"available"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Error checking username availability:",e.t0),L("error");case 13:e.next=16;break;case 15:L("invalid/same");case 16:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[g.user,W]);var q=function(e){w((function(r){return(0,f.Z)((0,f.Z)({},r),{},{about:e})}))},M=null!==g&&void 0!==g&&g.name?"":"Shop Name is required. Please enter a shop name.",T=""===(null===g||void 0===g?void 0:g.user.trim())?"Username is required. Please enter a username.":(null===g||void 0===g?void 0:g.user.trim().length)<5?"Username should be at least 5 characters long.":"",V=(0,v.jsxs)(v.Fragment,{children:[W&&(0,v.jsxs)(c.xv,{mb:"4px",children:["checking"===F&&(0,v.jsx)("span",{children:"Checking username availability..."}),"available"===F&&(0,v.jsx)("span",{style:{color:"green"},children:"Username available"}),"unavailable"===F&&(0,v.jsx)("span",{style:{color:"red"},children:"Username not available"})]}),(0,v.jsxs)(c.xv,{mb:"4px",children:["Your username will be part of your shop's web address, like ",(0,v.jsx)("i",{style:{color:h.brandColor.primaryBorderHover},children:"digibhoomi.com/username"}),"."]}),(0,v.jsx)(c.xv,{children:"Username should be at least 5 characters long and can only contain valid characters (letters, numbers, and underscores)."})]}),B=0===g.about.length||g.about.some((function(e){return""===e.trim()})),Q=(g.name!==n.name||g.user!==n.user||g.about.join()!==n.about.join()||g.address!==n.address||P!==(0,N.CX)())&&(W||"available"===F||g.user.toLowerCase()===n.user.toLowerCase())&&!(null===g||void 0===g||!g.name.trim());return console.log("logoUrl",P),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(c.X2,{a:"center",j:"between",style:{borderBottom:"1px solid "+h.neutralColor.border},p:"1rem 1rem",children:[(0,v.jsx)(c.xv,{s:"16",w:6,c:h.neutralColor.text,children:"Edit Profile"}),(0,v.jsx)(p.ZP,{height:1.2,width:1.2,name:p.uH.Close,color:"#bd1414",onClick:function(){return u()}})]}),(0,v.jsxs)(c.JX,{h:"100%",style:{overflow:"scroll",gap:"2rem"},p:"2rem 1rem",children:[(0,v.jsx)(c.X2,{a:"center",j:"center",children:(0,v.jsxs)(c.X2,{w:"initial",style:{position:"relative"},children:[P?(0,v.jsx)(c.X2,{w:"initial",onClick:function(){return Z(!0)},style:{position:"absolute",right:"-0.5rem",top:"-0.5rem",background:h.neutralColor.bgContainer,boxShadow:h.shadow.boxShadowTertiary},p:"0.25rem",br:"28%",children:(0,v.jsx)(p.ZP,{color:h.errorColor.errorActive,name:p.uH.Xmark})}):null,(0,v.jsx)(I.Z,{src:P,fallbackImage:A,alt:g.name+" logo"},P),(0,v.jsx)(c.X2,{w:"initial",style:{position:"absolute",right:"-0.5rem",bottom:"-0.5rem",background:h.neutralColor.bgContainer,boxShadow:h.shadow.boxShadowTertiary},p:"0.25rem",br:"28%",children:(0,v.jsx)(D.M,{aspectRatio:1,onUpload:function(e){H(e)},children:(0,v.jsx)(p.ZP,{color:h.brandColor.primary,name:p.uH.Edit})})}),(0,v.jsx)(O.Z,{title:"Delete Shop Logo ?",message:"Are you sure you want to delete your shop's logo?",show:k,onCancel:function(){return Z(!1)},onConfirm:function(){H(""),Z(!1)}})]})}),(0,v.jsx)(b.oH,{tt:"cap",error:M,required:!0,value:null===g||void 0===g?void 0:g.name,onChange:function(e){w((function(r){return(0,f.Z)((0,f.Z)({},r),{},{name:e})}))},label:"Business Name"}),(0,v.jsx)(c.JX,{m:"0 0 4rem",children:(0,v.jsx)(b.oH,{tt:"cap",error:T,description:V,value:null===g||void 0===g?void 0:g.user,onChange:function(e){w((function(r){return(0,f.Z)((0,f.Z)({},r),{},{user:e.toLowerCase()})}))},label:"Username"})}),(0,v.jsxs)(c.JX,{style:{gap:"1rem"},children:[(0,v.jsx)(c.X2,{children:(0,v.jsx)(c.xv,{children:"About"})}),(0,v.jsx)(c.X2,{p:"1rem",children:(0,v.jsx)(c.xv,{s:"12",w:5,c:h.neutralColor.textTertiary,children:"Please provide a brief description of your shop. For instance, you can begin with 'Italian' as your first description. If you wish to add more, simply enter each description separately. Each description should be concise and focus on a single aspect of your shop."})}),(0,v.jsx)(c.X2,{style:{gap:"1rem"},a:"center",children:(0,v.jsx)(b.oH,{width:"90%",tt:"cap",value:(null===g||void 0===g?void 0:g.about[0])||"",onChange:function(e){return q([e].concat((0,x.Z)(g.about.slice(1))))}})}),null===g||void 0===g?void 0:g.about.slice(1).map((function(e,r){return(0,v.jsxs)(c.X2,{style:{gap:"1rem"},a:"center",children:[(0,v.jsx)(b.oH,{width:"90%",tt:"cap",value:e,onChange:function(e){return q([].concat((0,x.Z)(g.about.slice(0,r+1)),[e],(0,x.Z)(g.about.slice(r+2))))}}),(0,v.jsx)(p.ZP,{name:p.uH.Delete,color:h.brandColor.red,onClick:function(){return function(e){if(g){var r=(0,x.Z)(g.about);r.splice(e,1),w((function(e){return(0,f.Z)((0,f.Z)({},e),{},{about:r})}))}}(r+1)}})]},r)})),(null===g||void 0===g?void 0:g.about.length)<4&&(0,v.jsx)(c.X2,{p:"1rem",a:"center",j:"center",children:(0,v.jsx)(s.Z,{disabled:B,onClick:function(){g&&g.about.length<4&&w((function(e){return(0,f.Z)((0,f.Z)({},e),{},{about:[].concat((0,x.Z)(e.about),[""])})}))},children:"Add More"})})]}),(0,v.jsx)(b.oH,{tt:"cap",value:(null===g||void 0===g?void 0:g.address)||"",onChange:function(e){w((function(r){return(0,f.Z)((0,f.Z)({},r),{},{address:e})}))},label:"Address"})]}),(0,v.jsxs)(c.X2,{j:"center",a:"center",style:{gap:"1rem"},p:"2rem 1rem",children:[(0,v.jsx)(s.Z,{width:"100%",type:"button",onClick:u,children:"Close"}),(0,v.jsx)(s.Z,{width:"100%",onClick:function(){var e=(0,f.Z)((0,f.Z)({},g),{},{user:g.user.toLowerCase(),name:g.name.toLowerCase(),about:g.about.map((function(e){return e.toLowerCase()})),address:g.address.toLowerCase()});l(e,r===P?"":P)},disabled:!Q,children:"Save"})]})]})},T=n(6353);function V(){return(V=(0,o.Z)((0,t.Z)().mark((function e(r,n){var o,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=(0,Z.A)()){e.next=3;break}throw new Error("Failed to update user profile: Invalid SellerId");case 3:if(!n){e.next=17;break}return e.prev=4,e.next=7,(0,D.$)(n);case 7:return a=e.sent,e.next=10,(0,T.T)(a);case 10:console.log("updated logo"),e.next=17;break;case 13:throw e.prev=13,e.t0=e.catch(4),console.error("Error setting seller logo:",e.t0),e.t0;case 17:return e.prev=17,e.next=20,(0,k.gU)("sellers",o,r);case 20:e.next=25;break;case 22:throw e.prev=22,e.t1=e.catch(17),new Error("Failed to update user profile: cannot update seller document");case 25:case"end":return e.stop()}}),e,null,[[4,13],[17,22]])})))).apply(this,arguments)}var B=function(e,r){return V.apply(this,arguments)},Q=n(8871),R=function(e){return e.Viewer="viewer",e.ProfileEditor="editProfile",e.ContactsEditor="editContacts",e}(R||{}),Y=function(){var e=(0,g.I0)(),r=(0,g.v9)((function(e){return e.user})),n=r.profile,p=r.isLoading,h=(0,i.Fg)(),x=(0,d.useState)(R.Viewer),f=(0,a.Z)(x,2),b=f[0],j=f[1],k=(0,d.useState)(H.q.None),Z=(0,a.Z)(k,2),X=Z[0],S=Z[1],P=(0,d.useState)(!1),I=(0,a.Z)(P,2),A=I[0],L=I[1],W=(0,E.n)(),q=W.setDisplayOptions,U=W.displayOptions,O=W.setHasOptionButton,D=function(){var e=(0,o.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.k)();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,d.useEffect)((function(){return O(!0),function(){O(!1)}}),[O]);var T=function(){var e=(0,o.Z)((0,t.Z)().mark((function e(r,n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,L(!0),e.next=4,B(r,n);case 4:S(H.q.Success),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error updating profile:",e.t0),S(H.q.Error);case 11:return e.prev=11,L(!1),console.log("completed updating profile"),e.finish(11);case 15:case"end":return e.stop()}}),e,null,[[0,7,11,15]])})));return function(r,n){return e.apply(this,arguments)}}(),V=[{label:"Edit Profile",onClick:function(){j(R.ProfileEditor)}},{label:"Edit Contacts",onClick:function(){j(R.ContactsEditor)}}];if(!n||p)return(0,v.jsx)(c.JX,{style:{background:h.neutralColor.fillQuaternary},children:p?(0,v.jsx)(C.p,{}):(0,v.jsx)("div",{children:"Oops! Some error occured."})});var Y=(0,N.CX)();return(0,v.jsxs)(c.JX,{style:{background:h.neutralColor.fillQuaternary},children:[(0,v.jsx)(c.X2,{p:"0.5rem 0rem",children:(0,v.jsx)(u.Z,{logo:Y,profile:n})}),(0,v.jsx)(c.X2,{p:"0.5rem 0rem",children:(0,v.jsx)(J,{editMode:b===R.ContactsEditor,closeEditMode:function(){j(R.Viewer)}})}),(0,v.jsx)(c.X2,{p:"0.5rem 0rem 0",children:(0,v.jsx)(c.X2,{p:"1rem 1rem  2rem",style:{background:h.neutralColor.bgContainer,boxShadow:"rgba(0, 0, 0, 0.069) 0px 1px 4px"},children:(0,v.jsx)(s.Z,{width:"100%",onClick:D,children:"Log out"})})}),(0,v.jsx)(m.d,{h:"99%",isOpen:b===R.ProfileEditor,children:(0,v.jsx)(c.JX,{h:"100%",style:{background:h.neutralColor.bgContainer,borderRadius:"8px 8px 0 0 "},children:(0,v.jsx)(M,{logo:Y,onClose:function(){j(R.Viewer)},onSave:T,profile:n})})}),U&&(0,v.jsx)(F.A,{options:V,closeCard:function(){return q(!1)}}),A&&(0,v.jsx)(w.Y,{children:(0,v.jsx)(C.p,{})}),(0,v.jsx)(y.E4,{mode:X,onClose:function(){"success"===X&&(j(R.Viewer),e((0,Q.I)())),S(H.q.None)}})]})}},8282:function(e,r,n){n.d(r,{A:function(){return i}});n(2791);var t=n(9215),o=n(5610),a=n(4144),s=n(445),c=n(4759),l=n(184),i=function(e){var r=e.options,n=e.closeCard;return(0,l.jsx)(t.Y,{children:(0,l.jsxs)(a.Z,{w:"90%",children:[(0,l.jsx)(c.X2,{j:"end",children:(0,l.jsx)(s.ZP,{height:1.2,width:1.2,name:s.uH.Close,onClick:function(){return n()}})}),(0,l.jsx)(c.JX,{children:r.map((function(e,t){return(0,l.jsx)(c.X2,{p:"0.75rem 1.5rem",children:(0,l.jsx)(o.Z,{variant:"secondary",width:"100%",onClick:function(){return function(e){n(),r[e].onClick()}(t)},children:e.label})},t)}))})]})})}},5545:function(e,r,n){var t=n(6444),o=n(9215),a=n(5610),s=n(4144),c=n(4759),l=n(184);r.Z=function(e){var r=e.title,n=e.message,i=e.label,u=e.onCancel,d=e.onConfirm,p=e.show,h=void 0===p||p,m=(0,t.Fg)();return h?(0,l.jsx)(o.Y,{children:(0,l.jsx)(s.Z,{w:"80%",p:"1rem",children:(0,l.jsxs)(c.JX,{style:{gap:"0.5rem"},children:[r&&(0,l.jsx)(c.X2,{p:"1rem 0rem",children:(0,l.jsx)(c.xv,{s:"16",w:6,c:m.neutralColor.text,children:r})}),n&&(0,l.jsx)(c.X2,{p:"1rem",style:{background:m.errorColor.errorBorder},br:"8px",children:(0,l.jsx)(c.xv,{s:"12",c:m.errorColor.errorTextActive,children:n})}),(0,l.jsx)(c.X2,{p:"1rem 0rem",a:"center",j:"end",children:(0,l.jsxs)(c.X2,{w:"60%",style:{gap:"2rem"},j:"end",a:"center",children:[(0,l.jsx)(a.Z,{color:m.errorColor.errorTextActive,variant:"secondary",onClick:u,children:"Cancel"}),(0,l.jsx)(a.Z,{bg:m.errorColor.errorTextActive,onClick:d,children:i||"Confirm"})]})})]})})}):null}}}]);
//# sourceMappingURL=414.af0a1fb8.chunk.js.map