"use strict";(self.webpackChunkdigibhoomi_seller=self.webpackChunkdigibhoomi_seller||[]).push([[359],{3474:function(e,n,r){r.d(n,{f:function(){return l},n:function(){return s}});var t=r(9439),o=r(2791),i=r(184),c=(0,o.createContext)(void 0),l=function(e){var n=e.children,r=(0,o.useState)(!1),l=(0,t.Z)(r,2),s=l[0],d=l[1],u=(0,o.useState)(!1),a=(0,t.Z)(u,2),h=a[0],f=a[1];return(0,i.jsx)(c.Provider,{value:{hasOptionButton:s,displayOptions:h,setDisplayOptions:f,setHasOptionButton:d},children:n})},s=function(){var e=(0,o.useContext)(c);if(void 0===e)throw new Error("useOptions must be used within an OptionsProvider");return e}},5980:function(e,n,r){r.d(n,{n:function(){return t.n}});var t=r(3474)},9050:function(e,n,r){r.d(n,{Z:function(){return b}});var t,o=r(9439),i=r(2791),c=r(4759),l=r(6444),s=r(2706),d=r(8928),u=r(9434),a=r(2219),h=r(4942),f=r(2858),p=(t={},(0,h.Z)(t,f.i.Food,(0,i.lazy)((function(){return r.e(12).then(r.bind(r,2012))}))),(0,h.Z)(t,f.i.Base,(0,i.lazy)((function(){return r.e(12).then(r.bind(r,2012))}))),t),x=r(1413),m=r(184),g=function(e){var n=e.children,r=e.at,t=e.stickyStyle,l=e.style,s=e.parentRef,d=e.containerRef,u=e.height,a=e.onStickyChange,h=(0,i.useState)(!1),f=(0,o.Z)(h,2),p=f[0],g=f[1],b=(0,i.useState)(null),j=(0,o.Z)(b,2)[1],C=(0,i.useRef)(null),v=s||C,Z=(0,i.useRef)(0);return(0,i.useEffect)((function(){var e,n=function(){var e=(null===d||void 0===d?void 0:d.current)||window,n=e instanceof Window?e.scrollY:e.scrollTop||0;j(Z.current<n?"down":"up"),Z.current=n;var t=n>=r;g(t),t!==p&&a&&a()},t=null===d||void 0===d?void 0:d.current;return t?(t.addEventListener("scroll",n),e=function(){t.removeEventListener("scroll",n)}):(window.addEventListener("scroll",n),e=function(){window.removeEventListener("scroll",n)}),e}),[r,d,p,a]),u?(0,m.jsx)(c.xu,{style:{minHeight:"".concat(u,"px")},ref:v,children:(0,m.jsx)(c.xu,{h:"".concat(u,"px"),style:p?(0,x.Z)({},t):(0,x.Z)({},l),children:n})}):(0,m.jsx)(c.xu,{ref:v,style:p?(0,x.Z)({},t):(0,x.Z)({},l),children:n})},b=function(e){var n=e.shop,r=e.scrollRef,t=(0,u.v9)((function(e){return e.products})),h=t.list,f=t.isLoading,x=(0,i.useRef)(null),b=(0,i.useRef)(null),j=(0,d.UG)(h,n),C=(0,i.useState)(0),v=(0,o.Z)(C,2),Z=v[0],w=v[1],y=(0,i.useState)(0),k=(0,o.Z)(y,2),P=k[0],S=k[1],X=(0,l.Fg)(),F=p[n],E=(0,i.useState)(null),A=(0,o.Z)(E,2),N=(A[0],A[1],(0,i.useState)("")),O=(0,o.Z)(N,2),R=O[0],D=O[1];(0,i.useEffect)((function(){if(x.current){var e=x.current.getBoundingClientRect().top;S(e-Z+10)}}),[Z]),console.log("searcehs",P),(0,i.useEffect)((function(){if(b.current){var e=b.current.offsetHeight;w(e)}}),[]);var H=j.filter((function(e){return e.name.toLowerCase().includes(R.toLowerCase())}));return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(c.JX,{p:"0 0 7rem",h:"100%",style:{overflow:"scroll"},ref:x,children:f?(0,m.jsx)(a.p,{}):(0,m.jsxs)(c.JX,{style:{gap:"1rem"},children:[(0,m.jsx)(g,{height:Z||void 0,at:P,stickyStyle:{position:"fixed",top:0,zIndex:1,boxShadow:X.shadow.boxShadowTertiary},containerRef:r||x,children:(0,m.jsx)(c.X2,{ref:b,p:"0.5rem 1rem",style:{background:X.neutralColor.bgContainer},children:(0,m.jsx)(s.Z,{placeholder:"Search in products...",value:R,onChange:function(e){D(e)},onClear:function(){return D("")}})})}),H.length?(0,m.jsx)(F,{products:H}):(0,m.jsx)(c.X2,{h:"500px",j:"center",p:"2rem 1rem",children:(0,m.jsx)(c.xv,{c:X.neutralColor.textSecondary,s:"14",w:5,children:"No Produts Found"})})]})})})}},4359:function(e,n,r){r.r(n),r.d(n,{ControlsWrapper:function(){return K},OptionIcon:function(){return $},OptionsList:function(){return ne},OptionsWrapper:function(){return ee},default:function(){return re}});var t=r(168),o=r(4165),i=r(5861),c=r(9439),l=r(2791),s=r(7442),d=r(6444),u=r(8928),a=r(5980),h=r(8282),f=r(1413),p=r(3433),x=r(4759),m=r(445),g=r(5610),b=r(5611),j=r(2858),C=r(5801),v=r(2219),Z=r(184),w=(0,l.lazy)((function(){return r.e(480).then(r.bind(r,6480))})),y=function(e){var n=e.shop,r=e.onClose,t=e.products,o=e.onAddProduct,i=(0,d.Fg)(),c=null,s=function(){return(0,Z.jsx)("div",{children:"Shop Does'nt have valid Add Product Form..."})};if(n===j.i.Food)c=w;return(0,Z.jsxs)(x.JX,{style:{background:"#fff",borderRadius:"1rem 1rem 0 0"},h:"100%",children:[(0,Z.jsxs)(x.X2,{a:"center",j:"between",style:{borderBottom:"1px solid "+i.neutralColor.border},p:"1rem 1rem",children:[(0,Z.jsx)(x.xv,{s:"16",w:6,c:i.neutralColor.text,children:" Add Product"}),(0,Z.jsx)(m.ZP,{height:1.2,width:1.2,name:m.uH.Close,color:"#bd1414",onClick:function(){return r()}})]}),c?(0,Z.jsx)(l.Suspense,{fallback:(0,Z.jsx)(v.p,{}),children:(0,Z.jsx)(x.xu,{p:"1rem 1.4rem",h:"100%",style:{overflow:"scroll"},children:(0,Z.jsx)(c,{products:t,onSubmit:function(e,n){var r=(0,C.sk)(),t=(0,f.Z)((0,f.Z)({},e),{},{id:r});o(t,n)}})})}):(0,Z.jsx)(s,{})]})},k=r(9215),P=function(e){var n=e.onAddProductClick,r=(0,d.Fg)();return(0,Z.jsxs)(x.JX,{a:"center",j:"center",p:"2rem 0rem",style:{gap:"1rem",background:"#fff",border:"1px solid "+r.neutralColor.borderSecondary,boxShadow:r.shadow.shadow1},br:"12px",children:[(0,Z.jsx)(x.xv,{c:r.neutralColor.textSecondary,s:"14",w:5,children:"No Produts Found"}),(0,Z.jsx)(g.Z,{onClick:n,children:"Add Product"})]})},S=(0,l.lazy)((function(){return r.e(480).then(r.bind(r,6480))})),X=function(e){var n=e.shop,r=e.onClose,t=e.products,o=e.onSave,i=e.activeEditProduct,c=(0,d.Fg)(),s=null,u=function(){return(0,Z.jsx)("div",{children:"Shop Does'nt have valid Add Product Form..."})};if("food"===n)s=S;return(0,Z.jsxs)(x.JX,{style:{background:"#fff",boxShadow:c.shadow.boxShadow,borderRadius:"1rem 1rem 0 0"},h:"100%",children:[(0,Z.jsxs)(x.X2,{a:"center",j:"between",style:{borderBottom:"1px solid "+c.neutralColor.border},p:"1rem 1rem",children:[(0,Z.jsx)(x.xv,{s:"16",w:7,c:c.neutralColor.text,children:"Edit Product"}),(0,Z.jsx)(m.ZP,{height:1.2,width:1.2,name:m.uH.Close,onClick:r})]}),s?(0,Z.jsx)(l.Suspense,{fallback:(0,Z.jsx)(v.p,{}),children:(0,Z.jsx)(x.xu,{p:"1rem 1rem 2rem",h:"100%",style:{overflowY:"scroll"},children:(0,Z.jsx)(s,{products:t,onSubmit:function(e,n){var r=(0,f.Z)((0,f.Z)({},i),e);o(r,n)},editProduct:i})})}):(0,Z.jsx)(u,{})]})};var F,E,A,N,O,R=function e(n,r){if(n===r)return!0;if("object"!==typeof n||"object"!==typeof r||null===n||null===r)return!1;var t=Object.keys(n),o=Object.keys(r);if(t.length!==o.length)return!1;for(var i=0,c=t;i<c.length;i++){var l=c[i];if(!o.includes(l)||!e(n[l],r[l]))return!1}return!0},D=function(e){var n=e.isOpen,r=e.onClose,t=e.children,o=(0,d.Fg)();return(0,Z.jsxs)(b.d,{isOpen:n,h:"100%",children:[(0,Z.jsx)(x.X2,{a:"center",j:"center",p:"1rem",children:(0,Z.jsx)(m.ZP,{style:{background:o.neutralColor.bgSpotlight},name:m.uH.Close,color:o.neutralColor.bgContainer,padding:"0.5rem",onClick:r,br:"4px"})}),(0,Z.jsx)(x.JX,{p:"0.75rem",br:"6px 6px 0 0",style:{background:o.neutralColor.bgLayout},children:t})]})},H=r(4942),J=(F={},(0,H.Z)(F,j.i.Food,(0,l.lazy)((function(){return r.e(597).then(r.bind(r,8597))}))),(0,H.Z)(F,j.i.Base,(0,l.lazy)((function(){return r.e(615).then(r.bind(r,2615))}))),F),T=function(e){var n,r=e.handleClearProduct,t=e.handleEditProduct,o=e.products,i=e.shop,s=e.listTitle,u=e.listType,a=e.onPreview,h=e.titleColor,f=(0,l.useState)(!0),p=(0,c.Z)(f,2),g=p[0],b=p[1],j=(0,d.Fg)(),C=(n={},(0,H.Z)(n,V.New,"#34D399"),(0,H.Z)(n,V.Unmodified,"#fff"),(0,H.Z)(n,V.Modified,"#FFA500"),(0,H.Z)(n,V.Deleted,"#FF3B30"),n),v=J[i],w=function(e){a&&a(e)},y=function(e){var n=e.product,o=null,i=((0,d.Fg)(),"rgb(0 86 227)"),c="rgb(191 18 18)";switch(u){case V.New:o=(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(m.ZP,{name:m.uH.Edit,color:i,onClick:function(){t(n,u)}}),(0,Z.jsx)(m.ZP,{name:m.uH.Delete,color:c,onClick:function(){r(n,u)}})]});break;case V.Modified:o=(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(m.ZP,{name:m.uH.Edit,color:i,onClick:function(){t(n,u)}}),(0,Z.jsx)(m.ZP,{name:m.uH.Undo,color:i,onClick:function(){r(n,u)}})]});break;case V.Unmodified:o=(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(m.ZP,{name:m.uH.Edit,color:i,onClick:function(){t(n,u)}}),(0,Z.jsx)(m.ZP,{name:m.uH.Delete,color:c,onClick:function(){r(n,u)}})]});break;case V.Deleted:o=(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)(m.ZP,{name:m.uH.Recover,color:"rgb(238 148 0)",onClick:function(){r(n,V.Deleted)}})});break;default:o=null}return o};return o.length?(0,Z.jsxs)(x.JX,{children:[(0,Z.jsxs)(x.X2,{p:"0.5rem 1rem",a:"center",j:"between",h:"initial",onClick:function(){return b(!g)},style:{fontWeight:600,fontFamily:"Raleway",background:j.neutralColor.bgContainer,cursor:"pointer"},br:"6px",children:[(0,Z.jsxs)(x.X2,{a:"end",children:[(0,Z.jsx)(x.xv,{w:6,tt:"cap",s:"16",c:h||j.neutralColor.text,mr:"0.5rem",children:s}),(0,Z.jsx)(x.xv,{w:5,s:"12",c:h||j.neutralColor.textSecondary,children:"( ".concat(o.length," )")})]}),(0,Z.jsx)(m.ZP,{name:m.uH.DownArrow,style:{transform:"rotate(".concat(g?"180deg":"0deg",")"),transformOrigin:"center",marginTop:"".concat(g?"4px":"0"),marginBottom:"".concat(g?"0":"4px")}})]}),!0===g?(0,Z.jsx)(x.JX,{p:"0.5rem",style:{gap:"0.5rem"},children:o.map((function(e,n){return(0,Z.jsxs)(x.JX,{br:"8px",style:{border:"1px solid ".concat(C[u]),background:j.neutralColor.bgContainer},children:[(0,Z.jsx)(v,{item:e,onPreview:w,showCategory:!0}),(0,Z.jsx)(x.X2,{style:{gap:"0.5rem"},a:"center",j:"end",p:"0.5rem 1rem",children:(0,Z.jsx)(y,{product:e})})]},n)}))}):null]}):null},U=r(4074),B=r(9077),z=r(6708),q=r(2706),L=r(5545),M=r(7694),I=r(9434),Y=function(e){return e.Add="add",e.Edit="edit",e.Delete="delete",e.None="none",e}({}),V=function(e){return e.New="New",e.Unmodified="Unchanged",e.Modified="Modified",e.Deleted="Deleted",e}({}),W=function(e){var n=e.onClose,r=e.onUpload,t=e.shop,s=e.initialMode,a=void 0===s?Y.None:s,h=e.initialProducts,j=(0,u.UG)(h,t),w=(0,l.useState)(a),S=(0,c.Z)(w,2),F=S[0],E=S[1],A=(0,l.useState)(null),N=(0,c.Z)(A,2),O=N[0],H=N[1],W=(0,l.useState)(!1),G=(0,c.Z)(W,2),_=G[0],Q=G[1],K=(0,l.useState)(j),$=(0,c.Z)(K,2),ee=$[0],ne=$[1],re=(0,l.useState)([]),te=(0,c.Z)(re,2),oe=te[0],ie=te[1],ce=(0,l.useState)([]),le=(0,c.Z)(ce,2),se=le[0],de=le[1],ue=(0,l.useState)([]),ae=(0,c.Z)(ue,2),he=ae[0],fe=ae[1],pe=(0,l.useState)([]),xe=(0,c.Z)(pe,2),me=xe[0],ge=xe[1],be=(0,l.useState)("none"),je=(0,c.Z)(be,2),Ce=je[0],ve=je[1],Ze=(0,l.useState)(null),we=(0,c.Z)(Ze,2),ye=we[0],ke=we[1],Pe=(0,l.useState)(null),Se=(0,c.Z)(Pe,2),Xe=Se[0],Fe=Se[1],Ee=(0,l.useState)(""),Ae=(0,c.Z)(Ee,2),Ne=Ae[0],Oe=Ae[1],Re=(0,l.useState)(z.q.None),De=(0,c.Z)(Re,2),He=De[0],Je=De[1],Te=(0,l.useState)(""),Ue=(0,c.Z)(Te,2),Be=Ue[0],ze=Ue[1],qe=(0,l.useState)(!1),Le=(0,c.Z)(qe,2),Me=Le[0],Ie=Le[1],Ye=(0,l.useState)(!1),Ve=(0,c.Z)(Ye,2),We=Ve[0],Ge=Ve[1],_e=oe.length||se.length||he.length,Qe=(0,d.Fg)(),Ke=function(){n()},$e=function(e,n){E(Y.Edit),ke(e),Fe(n)},en=function(e,n){E(Y.Delete),ke(e),Fe(n)},nn=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(){var n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q(!0),e.prev=1,n={newProducts:oe,unModifiedProducts:ee,modifiedProducts:se,deletedProducts:he,relativeImageProducts:h,absoluteImageProducts:j,importedRelativeImageProducts:me,importedAbsoluteImageProducts:(0,u.UG)(me,t)},e.next=5,r(n);case 5:ve("success"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),ve("error"),console.log("error",e.t0);case 12:return e.prev=12,Q(!1),e.finish(12);case 15:case 16:case"end":return e.stop()}}),e,null,[[1,8,12,15]])})));return function(){return e.apply(this,arguments)}}(),rn=J[t],tn=function(e){H(e)},on=[{listType:V.New,products:oe,title:"Recently Added",titleColor:Qe.neutralColor.text},{listType:V.Modified,products:se,title:"Updated Products",titleColor:Qe.neutralColor.text},{listType:V.Deleted,products:he,title:"Removed Products",titleColor:Qe.neutralColor.text},{listType:V.Unmodified,products:ee,title:"Existing Products",titleColor:Qe.neutralColor.text}].map((function(e){return(0,f.Z)((0,f.Z)({},e),{},{products:e.products.filter((function(e){return e.name.toLowerCase().includes(Ne.toLowerCase())}))})})),cn=on.every((function(e){return e.products.length<1})),ln=(0,I.I0)(),sn=F===Y.Add?(0,Z.jsx)(y,{shop:t,onClose:function(){return E(Y.None)},products:[].concat((0,p.Z)(oe),(0,p.Z)(ee),(0,p.Z)(se)),onAddProduct:function(e){ie([e].concat((0,p.Z)(oe))),E(Y.None)}}):F===Y.Edit?(0,Z.jsx)(X,{onSave:function(e){switch(Xe){case V.Unmodified:if(!R(e,ee.find((function(n){return n.id===e.id})))){var n=ee.filter((function(n){return n.id!==e.id})),r=[e].concat((0,p.Z)(se));de(r),ne(n)}break;case V.Modified:if(R(e,h.find((function(n){return n.id===e.id})))){var t=[e].concat((0,p.Z)(ee)),o=se.filter((function(n){return n.id!==e.id}));de(o),ne(t)}else{var i=[e].concat((0,p.Z)(se.filter((function(n){return n.id!==e.id}))));de(i)}break;case V.New:var c=[e].concat((0,p.Z)(oe.filter((function(n){return n.id!==e.id}))));ie(c)}Fe(null),ke(null),E(Y.None)},activeEditProduct:ye,shop:t,onClose:function(){E(Y.None),ke(null),Fe(null)},products:[].concat((0,p.Z)(oe),(0,p.Z)(ee),(0,p.Z)(se))}):null,dn=!oe.length&&!ee.length&&!se.length&&!he.length;return(0,Z.jsxs)(x.JX,{h:"100%",style:{background:Qe.neutralColor.fillQuaternary,borderBottom:"1px solid ".concat(Qe.neutralColor.borderSecondary)},children:[(0,Z.jsxs)(x.JX,{style:{boxShadow:Qe.shadow.shadow1,background:Qe.neutralColor.bgContainer,borderBottom:"1px solid ".concat(Qe.neutralColor.borderSecondary)},children:[(0,Z.jsxs)(x.X2,{a:"center",w:"inherit",p:"1rem 0.5rem 0",children:[(0,Z.jsxs)(x.X2,{a:"center",children:[(0,Z.jsx)(m.ZP,{height:1.5,color:Qe.brandColor.red,width:1.5,name:m.uH.Close,onClick:function(){_e?Ge(!0):Ke()}}),(0,Z.jsx)(x.xv,{w:7,s:"18",ml:"0.5rem",c:Qe.neutralColor.text,children:"Products Editor"})]}),(0,Z.jsxs)(x.X2,{w:"initial",a:"center",style:{gap:"1rem"},p:"0 1rem",children:[_e?(0,Z.jsx)(g.Z,{padding:"2px 4px",size:"small",variant:"secondary",onClick:function(){return Ie(!0)},children:"Reset"}):null,(0,Z.jsx)(B.ht,{variant:"secondary",accept:".dbmenu",size:"small",padding:"2px 6px",label:"Import",onFileChange:function(e){var n=e[0];if(n.name.endsWith(".dbmenu")){var r=new FileReader;r.onload=function(e){if(e.target)try{var n=JSON.parse(e.target.result);if(n.hasOwnProperty("products")){var r=n.products;if(r.length){var o=r.map((function(e){return e.id?e:(0,f.Z)((0,f.Z)({},e),{},{id:(0,C.Yq)()})}));console.log(o),ge((function(e){return[].concat((0,p.Z)(o),(0,p.Z)(e))}));var i=(0,u.UG)(o,t);ie([].concat((0,p.Z)(i),(0,p.Z)(oe))),Je(z.q.Success),ze("Added ".concat(r.length," products successfully."))}else Je(z.q.Error),ze("No Products Found")}else Je(z.q.Error),ze("No Products Found"),console.error('The JSON data does not contain a "products" property.')}catch(c){console.error("Error parsing JSON data:",c)}else console.error("Event target is null.")},r.readAsText(n)}else Je(z.q.Error),ze("Invalid File"),console.error("Invalid file extension. Please select a .dbmenu file.")}})]})]}),(0,Z.jsx)(x.X2,{p:"0.5rem 1rem",children:(0,Z.jsx)(q.Z,{value:Ne,onChange:function(e){Oe(e)},onClear:function(){return Oe("")},placeholder:"Search..."})})]}),(0,Z.jsx)(x.JX,{h:"100%",style:{overflow:"scroll"},children:(0,Z.jsx)(x.JX,{p:"1rem 0.5rem 12rem",style:{background:Qe.neutralColor.bgLayout,gap:"1rem"},children:dn?(0,Z.jsx)(P,{onAddProductClick:function(){E(Y.Add)}}):(0,Z.jsx)(Z.Fragment,{children:cn?(0,Z.jsx)(x.X2,{a:"center",j:"center",p:"2rem 1rem",children:(0,Z.jsx)(x.xv,{c:Qe.neutralColor.textSecondary,s:"14",w:5,children:"No Produts Found"})}):on.map((function(e){var n=e.listType,r=e.products,o=e.title,i=e.titleColor,c=void 0===i?"":i;return(0,Z.jsx)(T,{handleClearProduct:en,handleEditProduct:$e,listType:n,products:r,shop:t,listTitle:o,onPreview:tn,titleColor:c},"".concat(n," ").concat(Ne))}))})})}),(0,Z.jsxs)(x.X2,{a:"center",j:"between",p:"1rem",style:{gap:"1rem",position:"absolute",bottom:"0",borderTop:"1px solid "+Qe.neutralColor.border,background:Qe.neutralColor.bgContainer},children:[(0,Z.jsx)(g.Z,{padding:"0.75rem",size:"medium",onClick:function(){return E(Y.Add)},width:"50%",children:"Add Product"}),(0,Z.jsx)(g.Z,{padding:"0.75rem",size:"medium",disabled:!_e,width:"50%",onClick:nn,children:"Update"})]}),(0,Z.jsx)(b.d,{isOpen:F===Y.Add||F===Y.Edit,children:sn}),(0,Z.jsx)(D,{isOpen:!!O,onClose:function(){return H(null)},children:O&&(0,Z.jsx)(rn,{item:O,mode:"p"})}),(0,Z.jsx)(L.Z,{show:F===Y.Delete,title:function(){if(ye)switch(Xe){case V.New:return'Remove "'.concat(ye.name,'"?');case V.Modified:return"Discard Changes?";case V.Unmodified:return'Delete "'.concat(ye.name,'"?');case V.Deleted:return'Restore "'.concat(ye.name,'"?');default:return""}return""}(),message:function(){if(ye)switch(Xe){case V.New:return'Are you sure you want to remove "'.concat(ye.name,'" from the New Products?');case V.Modified:return'Are you sure you want to discard changes to "'.concat(ye.name,'"?');case V.Unmodified:return'Are you sure you want to delete "'.concat(ye.name,'" ?');case V.Deleted:return'Are you sure you want to restore "'.concat(ye.name,'" ?');default:return""}return""}(),onCancel:function(){E(Y.None),ke(null),Fe(null)},onConfirm:function(){if(ye&&Xe){switch(Xe){case V.New:ie(oe.filter((function(e){return e.id!==ye.id})));break;case V.Modified:var e=h.find((function(e){return e.id===ye.id}));de(se.filter((function(e){return e.id!==ye.id}))),e&&ne([e].concat((0,p.Z)(ee)));break;case V.Unmodified:ne(ee.filter((function(e){return e.id!==ye.id}))),fe([ye].concat((0,p.Z)(he)));break;case V.Deleted:fe(he.filter((function(e){return e.id!==ye.id}))),ne([ye].concat((0,p.Z)(ee)))}ke(null),Fe(null),E(Y.None)}}}),(0,Z.jsx)(L.Z,{show:Me,title:"Reset all ?",message:"Are you sure you want to discard all changes?",onCancel:function(){return Ie(!1)},onConfirm:function(){ie([]),de([]),fe([]),ge([]),ne(h),Ie(!1)}}),(0,Z.jsx)(L.Z,{show:We,title:"Discard Unsaved Changes?",message:"You have unsaved changes. Are you sure you want to close the editor and discard all changes?",onCancel:function(){return Ge(!1)},onConfirm:Ke}),_&&(0,Z.jsx)(k.Y,{children:(0,Z.jsx)(v.p,{})}),(0,Z.jsx)(U.E4,{mode:He,onClose:function(){Je(z.q.None),ze("")},message:Be}),(0,Z.jsx)(U.E4,{mode:"none"!==Ce?"success"===Ce?z.q.Success:z.q.Error:z.q.None,onClose:function(){"success"===Ce&&(ln((0,M.t2)()),n()),ve("none")},message:"success"===Ce?"Products added successfully.":"Something went wrong."})]})},G=W,_=r(9050),Q=function(e){return e.Viewer="viewer",e.Editor="edit",e}(Q||{}),K=d.ZP.div(E||(E=(0,t.Z)(["\n  width: 100%;\n"]))),$=d.ZP.div(A||(A=(0,t.Z)(["\n  \n"]))),ee=d.ZP.div(N||(N=(0,t.Z)(["\n   right: 8px;\n    top: -3rem;\n    align-items: end;\n    display: flex;\n    flex-direction: column;\n    z-index: 3;\n    position: absolute;\n    width: 70%;\n"]))),ne=d.ZP.ul(O||(O=(0,t.Z)(["\n  margin-right: 0.75rem;\n  margin-top: 0.5rem;\n  border-radius: 8px;\n  padding: 1rem 0;\n  width: 100%;\n  background: white;\n  box-shadow: ",";\n  box-shadow: ",";\n  li {\n    padding: 0.5rem;\n    transition: background-color 0.3s ease;\n\n    &:hover,\n    &:active {\n      background-color: lightgray;\n    }\n  }\n\n"])),(function(e){return e.theme.shadow.boxShadowSecondary}),(function(e){return e.theme.neutralColor.border})),re=function(){var e=(0,d.Fg)(),n=j.i.Food,r=(0,a.n)(),t=r.setDisplayOptions,f=r.displayOptions,p=r.setHasOptionButton,g=(0,l.useState)(null),C=(0,c.Z)(g,2),v=(C[0],C[1],(0,l.useState)(Q.Viewer)),w=(0,c.Z)(v,2),y=w[0],k=w[1],P=(0,I.v9)((function(e){return e.products})),S=P.list,X=P.isLoading,F=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(n){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.bE)(n);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(n){return e.apply(this,arguments)}}();if((0,l.useEffect)((function(){return p(!0),function(){p(!1)}}),[p]),X)return(0,Z.jsx)(s.Z,{});var E=[{label:S.length?"Edit Products":"Add Products",onClick:function(){k(Q.Editor)}}],A=!S.length;return(0,Z.jsxs)(Z.Fragment,{children:[y===Q.Viewer?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(_.Z,{shop:j.i.Food}),(0,Z.jsx)(x.X2,{w:"initial",style:{background:e.brandColor.primary,boxShadow:e.shadow.shadow1,position:"absolute",bottom:"1rem",right:"1rem"},br:"12px",children:(0,Z.jsx)(m.ZP,{name:m.uH.Edit,clickEffectTime:100,onClick:function(){return k(Q.Editor)},padding:"1rem",color:e.neutralColor.bgContainer,height:1.5,br:"12px",width:1.5})})]}):(0,Z.jsx)(b.d,{isOpen:y===Q.Editor,h:"100%",bg:e.neutralColor.bgContainer,children:(0,Z.jsx)(G,{onUpload:F,initialMode:A?Y.Add:Y.None,initialProducts:S,onClose:function(){return k(Q.Viewer)},shop:n})}),f&&(0,Z.jsx)(h.A,{options:E,closeCard:function(){return t(!1)}})]})}},9215:function(e,n,r){r.d(n,{Y:function(){return d}});var t,o=r(168),i=r(6444),c=r(4759),l=r(184),s=(0,i.ZP)(c.xu)(t||(t=(0,o.Z)(["\n  width: 100%;\n  position: fixed;\n  height: 100%;\n  top: 0;\n  left:0;\n  z-index: 9;\n"]))),d=function(e){e.onClose;var n=e.children,r=(0,i.Fg)();return(0,l.jsx)(s,{style:{background:r.neutralColor.bgMask},children:(0,l.jsx)(c.JX,{h:"100%",j:"center",a:"center",style:{position:"relative"},children:n})})}},4144:function(e,n,r){r.d(n,{Z:function(){return l}});var t,o=r(168),i=r(6444),c=r(4759),l=(0,i.ZP)(c.JX)(t||(t=(0,o.Z)(["\nborder-radius: 6px;\nbox-shadow: ",";\nbackground: ",";;\n"])),(function(e){return e.theme.shadow.boxShadow}),(function(e){return e.theme.neutralColor.bgContainer}))},2706:function(e,n,r){var t,o,i,c=r(9439),l=r(168),s=r(2791),d=r(6444),u=r(6825),a=r(2071),h=r(445),f=r(4759),p=r(184),x=d.ZP.input(t||(t=(0,l.Z)(["\n  color: ",";\n  font-weight: 400;\n  border-width: 1px;\n  padding: 8px 0px 8px 28px;\n  font-size: 16px;\n  width: 100%;\n  position: relative;\n  border-color: ",";\n  border-radius: ",";\n  border-style: solid;\n  outline: none;\n  transition: border-color 0.3s ease;\n  &:focus {\n    border-color: ",";\n    outline: none;\n  }\n"])),(function(e){return e.theme.neutralColor.text}),(function(e){return e.theme.neutralColor.border}),(function(e){return e.borderRadius||"9px"}),(function(e){var n=e.borderColor,r=e.theme;return n||r.neutralColor.border})),m=(0,d.ZP)(h.ZP)(o||(o=(0,l.Z)(["\n  position: absolute;\n  left: 4px; /* Adjust the left position to move the search icon to the start */\n  top: 50%; /* Center vertically */\n  transform: translateY(-50%);\n"]))),g=(0,d.ZP)(h.ZP)(i||(i=(0,l.Z)(["\n  position: absolute;\n  right: 10px; /* Adjust the right position to move the clear icon to the end */\n  top: 50%; /* Center vertically */\n  transform: translateY(-50%);\n"])));n.Z=function(e){var n=e.label,r=e.value,t=e.onChange,o=e.placeholder,i=e.required,l=e.labelTop,b=void 0===l||l,j=e.borderColor,C=void 0===j?"":j,v=e.borderRadius,Z=e.error,w=e.onClear,y=(0,s.useState)(!1),k=(0,c.Z)(y,2),P=k[0],S=k[1],X=(0,d.Fg)();return(0,p.jsxs)(u.SP,{top:b,children:[n&&(0,p.jsxs)(u.__,{top:b,children:[n,i&&"*"]}),(0,p.jsxs)(f.X2,{a:"center",style:{position:"relative"},j:"center",children:[(0,p.jsx)(x,{type:"text",value:r,onChange:function(e){t(e.target.value)},onFocus:function(){S(!0)},onBlur:function(){S(!1)},placeholder:o,hasValue:""!==r,required:i,borderColor:C,borderRadius:v,isInputFocused:P}),""!==r&&(0,p.jsx)(g,{name:h.uH.Clear,height:.6,width:.6,color:X.neutralColor.bgContainer,onClick:function(){w()},style:{background:X.neutralColor.border}}),(0,p.jsx)(m,{borderRadius:0,name:h.uH.Search,color:P?X.brandColor.primaryActive:X.neutralColor.border})]}),Z&&(0,p.jsx)(a.Z,{children:Z})]})}},8282:function(e,n,r){r.d(n,{A:function(){return d}});r(2791);var t=r(9215),o=r(5610),i=r(4144),c=r(445),l=r(4759),s=r(184),d=function(e){var n=e.options,r=e.closeCard;return(0,s.jsx)(t.Y,{children:(0,s.jsxs)(i.Z,{w:"90%",children:[(0,s.jsx)(l.X2,{j:"end",children:(0,s.jsx)(c.ZP,{height:1.2,width:1.2,name:c.uH.Close,onClick:function(){return r()}})}),(0,s.jsx)(l.JX,{children:n.map((function(e,t){return(0,s.jsx)(l.X2,{p:"0.75rem 1.5rem",children:(0,s.jsx)(o.Z,{variant:"secondary",width:"100%",onClick:function(){return function(e){r(),n[e].onClick()}(t)},children:e.label})},t)}))})]})})}},6708:function(e,n,r){r.d(n,{q:function(){return d}});r(2791);var t=r(6444),o=r(9215),i=r(4759),c=r(5610),l=r(445),s=r(184),d=function(e){return e.None="none",e.Success="success",e.Error="error",e}({});n.Z=function(e){var n=e.mode,r=e.onClose,u=e.message,a=(0,t.Fg)(),h=n===d.Success,f="#38a81c",p=a.errorColor.error,x=a.errorColor.errorBorder;return n!==d.None?(0,s.jsx)(o.Y,{children:(0,s.jsxs)(i.JX,{br:"8px",w:"80%",style:{gap:"2rem",padding:"1.5rem 1rem",background:a.neutralColor.bgContainer},a:"center",children:[(0,s.jsx)(l.ZP,{style:{background:h?f:p},name:h?l.uH.Check:l.uH.Xmark,color:"#fff",padding:"6px",br:"50%",width:5,height:5}),(0,s.jsx)(i.xv,{tt:"cap",s:"18",w:6,c:a.neutralColor.text,children:h?"Success":"Error"}),u&&(0,s.jsx)(i.X2,{a:"center",j:"center",p:"1rem",style:{background:h?"#b0eea1":x},br:"8px",children:(0,s.jsx)(i.xv,{tt:"cap",s:"12",c:h?f:p,children:u})}),(0,s.jsx)(i.X2,{a:"center",j:"center",style:{gap:"1rem"},children:(0,s.jsx)(c.Z,{width:"50%",onClick:r,bg:h?"#4CBB17":a.errorColor.error,children:h?"Done":"Close"})})]})}):null}},5545:function(e,n,r){var t=r(6444),o=r(9215),i=r(5610),c=r(4144),l=r(4759),s=r(184);n.Z=function(e){var n=e.title,r=e.message,d=e.label,u=e.onCancel,a=e.onConfirm,h=e.show,f=void 0===h||h,p=(0,t.Fg)();return f?(0,s.jsx)(o.Y,{children:(0,s.jsx)(c.Z,{w:"80%",p:"1rem",children:(0,s.jsxs)(l.JX,{style:{gap:"0.5rem"},children:[n&&(0,s.jsx)(l.X2,{p:"1rem 0rem",children:(0,s.jsx)(l.xv,{s:"16",w:6,c:p.neutralColor.text,children:n})}),r&&(0,s.jsx)(l.X2,{p:"1rem",style:{background:p.errorColor.errorBorder},br:"8px",children:(0,s.jsx)(l.xv,{s:"12",c:p.errorColor.errorTextActive,children:r})}),(0,s.jsx)(l.X2,{p:"1rem 0rem",a:"center",j:"end",children:(0,s.jsxs)(l.X2,{w:"60%",style:{gap:"2rem"},j:"end",a:"center",children:[(0,s.jsx)(i.Z,{color:p.errorColor.errorTextActive,variant:"secondary",onClick:u,children:"Cancel"}),(0,s.jsx)(i.Z,{bg:p.errorColor.errorTextActive,onClick:a,children:d||"Confirm"})]})})]})})}):null}},4074:function(e,n,r){r.d(n,{E4:function(){return j.Z},ZP:function(){return C}});var t,o,i,c,l,s,d=r(168),u=(r(2791),r(6444)),a=r(184),h=u.ZP.div(t||(t=(0,d.Z)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5); /* Adjust the transparency as needed */\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),f=u.ZP.div(o||(o=(0,d.Z)(["\n  background-color: white;\n  padding: 1rem;\n  border-radius: 6px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n"]))),p=u.ZP.div(i||(i=(0,d.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 1rem;\n"]))),x=u.ZP.h3(c||(c=(0,d.Z)(["\n  font-size: 18px;\n  font-weight: bold;\n"]))),m=u.ZP.button(l||(l=(0,d.Z)(["\n  background: none;\n  border: none;\n  cursor: pointer;\n  font-size: 20px;\n"]))),g=u.ZP.div(s||(s=(0,d.Z)(["\n  /* Add any additional styling for the content */\n"]))),b=function(e){var n=e.onClose,r=e.children,t=e.isOpen,o=e.title;return t?(0,a.jsx)(h,{children:(0,a.jsxs)(f,{children:[(0,a.jsxs)(p,{children:[(0,a.jsx)(x,{children:o}),(0,a.jsx)(m,{onClick:n,children:"X"})]}),(0,a.jsx)(g,{children:r})]})}):null},j=(r(9215),r(5610),r(4144),r(4759),r(6708)),C=b}}]);
//# sourceMappingURL=359.2a8e99b3.chunk.js.map